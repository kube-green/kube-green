apiVersion: kube-green.com/v1alpha1
kind: SleepInfo
metadata:
  name: working-hours
spec:
  weekdays: "1-5"
  sleepAt: "20:00"
  wakeUpAt: "08:00"
  timeZone: "Europe/Rome"
  suspendCronJobs: true
  patchesJson6902:
    - target:
        version: "apps/v1"
        kind: Deployment
        # labelSelector: "env=dev"
      patch:
        key: "#/spec/replicas"
        value: 0
    - target:
        apiVersion: "batch/v1"
        kind: CronJob
      patch:
        key: "#/spec/suspend"
        value: true
  excludeRef:
    - apiVersion: "apps/v1"
      kind:       Deployment
      name:       api-gateway
